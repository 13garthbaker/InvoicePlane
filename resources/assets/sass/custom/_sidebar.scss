/*
 * InvoicePlane
 *
 * @package     InvoicePlane
 * @author      InvoicePlane Developers & Contributors
 * @copyright   Copyright (C) 2014 - 2018 InvoicePlane
 * @license     https://invoiceplane.com/license
 * @link        https://invoiceplane.com
 *
 * Based on FusionInvoice by Jesse Terry (FusionInvoice, LLC)
 */

#sidebar {
  width: 320px;
  position: fixed;
  top: 0;
  bottom: 0;
  overflow: auto;
  background: $sidebar-bg;
  color: color-yiq($sidebar-bg);
  left: -320px;
  z-index: $zindex-modal;
  transition: left 0.2s ease-out;
  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.15);

  .sidebar-visible & {
    left: 0;
    transition: left 0.2s ease-out;
  }

  @include media-breakpoint-up('lg') {
    width: 25%;
    left: 0;
  }

  @include media-breakpoint-up('xl') {
    width: 20%;
  }

  a {
    color: color-yiq($sidebar-bg);

    @include hover-focus-active {
      color: color-yiq($sidebar-bg);
    }

    .fa {
      margin-right: $spacer * .25;
    }
  }

  .sidebar-top {
    padding: $btn-padding-y 0;
    border-bottom: 1px solid lighten($sidebar-top-bg, 5%);
    background-color: $sidebar-top-bg;
    color: $sidebar-top-color;

    a {
      color: $sidebar-top-color;
    }
  }

  .sidebar-top-logo {
    margin: 0 0 0 $nav-link-padding-x;
    max-height: $nav-link-height;
  }
}

.sidebar-backdrop {
  display: none;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: $zindex-modal-backdrop;
  background: rgba(0, 0, 0, .15);

  @include media-breakpoint-down('lg') {

    .sidebar-visible & {
      display: block;
    }
  }
}

.sidebar-toggle,
.sidebar-toggle-nav {
  @include media-breakpoint-up('lg') {
    display: none;
  }
}

.menu {
  list-style: none;
  padding: 0;
  margin: 0 0 .5rem;
  font-weight: $font-weight-light;

  li {
    width: 100%;

    a {
      display: block;
      width: 100%;
      text-decoration: none;
      padding: $btn-padding-y-lg $btn-padding-x-lg;

      @include hover-focus-active {
        background-color: lighten($sidebar-bg, 2.5%);
      }

      @include media-breakpoint-up('xl') {
        padding: $btn-padding-y-xl $btn-padding-x-xl;
      }
    }

    &.divider {
      margin: 0;
      border-bottom: 1px solid lighten($sidebar-bg, 7.5%);
    }
  }

  .has-submenu {
    background-color: lighten($sidebar-bg, 2.5%);

    .menu-icon {
      padding: $btn-padding-y $btn-padding-x;

      &:before {
        content: "\f107";
      }
    }

    &.collapsed {
      background-color: $sidebar-bg;

      @include hover-focus-active {
        background-color: lighten($sidebar-bg, 2.5%);
      }

      .menu-icon:before {
        content: "\f104";
      }
    }
  }

  .submenu {
    list-style: none;
    padding: 0;
    margin: 0;
    background-color: lighten($sidebar-bg, 2.5%);
    border-bottom: 1px solid lighten($sidebar-bg, 7.5%);
    border-left: $btn-padding-x solid lighten($sidebar-bg, 7.5%);

    li {
      padding: 0;

      a {
        font-size: $font-size-sm;

        @include hover-focus-active {
          background-color: lighten($sidebar-bg, 5%);
        }
      }

      &.divider {
        margin: 0;
      }
    }
  }
}
